(self.webpackChunkpapathemes_kitchenary=self.webpackChunkpapathemes_kitchenary||[]).push([[22],{28204:(t,e,i)=>{"use strict";i.d(e,{A:()=>u});var n,o=i(33270),r=i.n(o),a=i(88835),s=i(4621),l=i(56526),c=!1;function d(t,e){return(e.match(/(^|\s)mode-\S+/g)||[]).join(" ")}var h=function(){function t(t){void 0===t&&(t={}),this.onModeChange=this.onModeChange.bind(this),this.onSortBtnClick=this.onSortBtnClick.bind(this),this.options=t,this.init()}var e=t.prototype;return e.init=function(){if(this.$sortBy=r()("[data-sort-by]"),this.$sortBy.length){var t=this.$sortBy.find("[name=limit]"),e=this.$sortBy.find("input[name=mode]"),i=a.parse(window.location.href,!0);i.query.limit&&t.val(i.query.limit),i.query.mode&&e.prop("checked",!1).filter("[value="+i.query.mode+"]").prop("checked",!0);var n=r()("body");n.hasClass("supermarket-page--pages-custom-category-bulk-order")||n.hasClass("supermarket-page--pages-custom-brand-bulk-order")||(r()("#product-listing-container").removeClass(d).addClass("mode-"+e.filter(":checked").val()),this.unbindEvents(),this.bindEvents())}},e.reinit=function(t){t&&(this.options=t),this.init()},e.destroy=function(){this.unbindEvents()},e.bindEvents=function(){this.$sortBy.find("input[name=mode]").on("change",this.onModeChange),this.$sortBy.find('button, input[type="button"]').on("click",this.onSortBtnClick)},e.unbindEvents=function(){this.$sortBy.find("input[name=mode]").off("change",this.onModeChange),this.$sortBy.find('button, input[type="button"]').off("click",this.onSortBtnClick)},e.onModeChange=function(t){t.preventDefault();var e=r()(t.target).val();r()("#product-listing-container").removeClass(d).addClass("mode-"+e),r()("#product-listing-container .pagination-link").each((function(t,i){var n=r()(i),o=l.A.replaceParams(n.attr("href"),{mode:e});n.attr("href",o)}));var i=a.parse(window.location.href,!0);i.query.mode=e,window.history.pushState({},document.title,a.format({pathname:i.pathname,search:l.A.buildQueryString(i.query)}))},e.onSortBtnClick=function(t){var e=r()(t.currentTarget),i=e.data("sort");i&&(this.$sortBy.find('[name="sort"]').val(i),s.Ay.hooks.emit("sortBy-submitted",t,e.closest("form").get(0)))},t}();function u(t){n?n.reinit(t):n=new h(t),c||(r()("body").on("beforeload.instantload",(function(){n&&(n.destroy(),n=null)})),c=!0)}},28645:(t,e,i)=>{"use strict";i.d(e,{q:()=>p,x:()=>f});var n=i(7350),o=i.n(n),r=i(38221),a=i.n(r),s=i(4621),l=i(28204),c=i(33270),d=["requestOptions"];function h(t,e,i){void 0===i&&(i=!1);var n=new URL(t,window.location.origin),o=new URL(e,window.location.origin);return n.pathname=n.pathname.replace(/\/$/,""),o.pathname=o.pathname.replace(/\/$/,""),!(n.pathname!==o.pathname||!n.searchParams.get("page")&&!o.searchParams.get("page")||!i&&o.searchParams.get("sort")&&n.searchParams.get("sort")!==o.searchParams.get("sort")||n.searchParams.get("sort")&&!n.searchParams.get("page")||(n.searchParams.delete("page"),n.searchParams.delete("limit"),n.searchParams.delete("sort"),n.searchParams.delete("_bc_fsnf"),n.hash="",o.searchParams.delete("page"),o.searchParams.delete("limit"),o.searchParams.delete("sort"),o.searchParams.delete("_bc_fsnf"),o.hash="",n.toString().replace(/%5B[0-9]+%5D/g,"%5B%5D").replace(/\[[0-9]+\]/g,"[]")!=n.toString().replace(/%5B[0-9]+%5D/g,"%5B%5D").replace(/\[[0-9]+\]/g,"[]")))}function u(t,e){void 0===e&&(e=1);var i=new URL(t,window.location.origin);return Number(i.searchParams.get("page"))||e}var p=function(){function t(t){var e=this,i=void 0===t?{}:t,n=i.productListingContainerSelector,r=void 0===n?"#product-listing-container":n,s=i.facetedSearchSelectorContainer,l=void 0===s?"#faceted-search-container":s,d=i.paginationSelector,h=void 0===d?".pagination":d,p=i.productGridSelector,f=void 0===p?".productGrid":p,g=i.productSelector,m=void 0===g?".productGrid .product":g,v=i.paginationItemNextSelector,S=void 0===v?".pagination-item--next":v,w=i.paginationItemPrevSelector,b=void 0===w?".pagination-item--previous":w,y=i.bulkOrder,P=void 0===y?null:y,C=i.enableInfiniteScroll,B=void 0===C?"scroll":C,k=i.txtLoadMore,q=void 0===k?"Load More":k,$=i.insertTopPaginationFunc,I=void 0===$?function(t,e){}:$,_=i.insertBottomPaginationFunc,L=void 0===_?function(t,e){}:_;this.onScroll=o()(this.onScroll.bind(this),200),this.replaceStateLastUrlDebounced=a()((function(){return window.history.replaceState({},document.title,e.lastUrl)}),500),this.productListingContainerSelector=r,this.facetedSearchSelectorContainer=l,this.paginationSelector=h,this.productGridSelector=f,this.productSelector=m,this.paginationItemNextSelector=S,this.paginationItemPrevSelector=b,this.bulkOrder=P,this.enableInfiniteScroll=B,this.txtLoadMore=q,this.insertTopPaginationFunc=I.bind(this),this.insertBottomPaginationFunc=L.bind(this),c(window).on("scroll",this.onScroll);var x=c(this.productListingContainerSelector),U=x.find(this.paginationSelector).addClass("_bottom"),N=x.find(this.paginationSelector).filter("._bottom").first().clone().removeClass("_bottom").addClass("_top").prependTo(x);this.insertTopPaginationFunc(N,x),this.insertBottomPaginationFunc(U,x),x.find(this.productSelector).attr("data-page",u(window.location.href)),this.scrollTo(),this.lastUrl=window.location.href,this.observePagination()}var e=t.prototype;return e.observePagination=function(){var t=this,e=c(this.productListingContainerSelector),i=e.find(this.paginationSelector).filter("._top"),n=e.find(this.paginationSelector).filter("._bottom");if("scroll"===this.enableInfiniteScroll)this.ob||(this.ob=new IntersectionObserver((function(i){var n=i.filter((function(t){return t.isIntersecting})).map((function(t){var e;return null==(e=t.target.querySelector("a"))?void 0:e.getAttribute("href")})).filter((function(t){return t&&h(t,window.location.href,!0)}))[0];n&&(e.find(t.paginationSelector).addClass("is-loading"),window.history.replaceState({},document.title,n),c(window).trigger("statechange"))}))),i.find(this.paginationItemPrevSelector).first().each((function(e,i){return t.ob.observe(i)})),n.find(this.paginationItemNextSelector).first().each((function(e,i){return t.ob.observe(i)}));else if("button"===this.enableInfiniteScroll){var o=i.find(this.paginationItemPrevSelector).find("a").attr("href"),r=n.find(this.paginationItemNextSelector).find("a").attr("href");this.$loadPrevButton&&(this.$loadPrevButton.parent(".infiniteScroll-loadMoreWrapper").remove(),this.$loadPrevButton.off("click").remove()),this.$loadNextButton&&(this.$loadNextButton.parent(".infiniteScroll-loadMoreWrapper").remove(),this.$loadNextButton.off("click").remove());var a=function(i){var n=c(i.currentTarget).data("href");n&&(e.find(t.paginationSelector).addClass("is-loading"),window.history.replaceState({},document.title,n),c(window).trigger("statechange"))};o&&(this.$loadPrevButton=c('<button type="button" class="button button--primary button--small button--prev">'+this.txtLoadMore+"</button>").insertAfter(i).wrap('<div class="infiniteScroll-loadMoreWrapper _top"></div>'),this.$loadPrevButton.data("href",o),this.$loadPrevButton.on("click",a)),r&&(this.$loadNextButton=c('<button type="button" class="button button--primary button--small button--next">'+this.txtLoadMore+"</button>").insertAfter(n).wrap('<div class="infiniteScroll-loadMoreWrapper _bottom"></div>'),this.$loadNextButton.data("href",r),this.$loadNextButton.on("click",a))}},e.scrollTo=function(){if(window.location.hash){var t=window.location.hash.replace(/^#/,"").match(/y=(-?\d+)/);if(t&&t[1]){var e=c(this.productListingContainerSelector),i=Number(t[1]),n=u(window.location.href),o=e.find(this.productSelector).filter('[data-page="'+n+'"]').first();window.scrollTo(0,o.offset().top-i)}}},e.onScroll=function(){this.updateScrollingUrl()},e.updateScrollingUrl=function(){var t=c(this.productListingContainerSelector).find(this.productSelector),e=t.filter((function(t,e){var i=e.getBoundingClientRect(),n=i.top,o=i.bottom;return n>=0&&n<=window.innerHeight||o>=0&&o<=window.innerHeight})).first();if(e.length>0){var i=new URL(window.location.href,window.origin),n=Number(e.data("page"))||1;n>1?i.searchParams.set("page",n):i.searchParams.delete("page");var o=t.filter('[data-page="'+n+'"]').get(0).getBoundingClientRect().top;i.hash="#y="+Math.round(o),this.lastUrl=i.toString(),this.replaceStateLastUrlDebounced(),window.history.scrollRestoration="manual"}},e.refreshView=function(t,e,i){var n=this;void 0===e&&(e=window.location.href),void 0===i&&(i="");var o,r=c(this.productListingContainerSelector),a=c(this.facetedSearchSelectorContainer),s=u(e),l=!1,d="object"==typeof t&&void 0!==t.sidebar?t.sidebar:null,p="object"==typeof t&&void 0!==t.productListing?t.productListing:t;if(null!==d&&a.html(d),h(e,this.lastUrl)){if(r.find(this.paginationSelector).removeClass("is-loading"),0===r.find(this.productSelector).filter('[data-page="'+s+'"]').length){var f=c("<div>"+p+"</div>"),g=r.find(this.productSelector).filter((function(t,e){return(Number(c(e).attr("data-page"))||1)>s})).first();g.length>0?g.before(f.find(this.productGridSelector).html()):r.find(this.productGridSelector).append(f.find(this.productGridSelector).html());var m=u(r.find(this.paginationSelector).filter("._bottom").find(this.paginationItemNextSelector).find("a").attr("href"),0),v=u(r.find(this.paginationSelector).filter("._top").find(this.paginationItemPrevSelector).find("a").attr("href"),0),S=u(f.find(this.paginationSelector).find(this.paginationItemNextSelector).find("a").attr("href"),0),w=u(f.find(this.paginationSelector).find(this.paginationItemPrevSelector).find("a").attr("href"),0);m>0&&(!S||S>m)&&r.find(this.paginationSelector).filter("._bottom").html(f.find(this.paginationSelector).html()),w<v&&r.find(this.paginationSelector).filter("._top").html(f.find(this.paginationSelector).html())}window.location.hash?this.scrollTo():this.lastUrl&&this.lastUrl.includes("#")&&(window.history.replaceState({},document.title,this.lastUrl),this.scrollTo())}else{r.html(p),i&&r.find("img[data-no-img]").attr("src",""+i.defaultProductImage);var b=r.find(this.paginationSelector).addClass("_bottom"),y=r.find(this.paginationSelector).first().clone().removeClass("_bottom").addClass("_top").prependTo(r);this.insertTopPaginationFunc(y,r),this.insertBottomPaginationFunc(b,r),r.length>0&&!((o=r.get(0).getBoundingClientRect()).top>=0&&o.top<=(window.innerHeight||document.documentElement.clientHeight))&&(l=!0),this.lastUrl=e}r.find(this.productSelector).not("[data-page]").attr("data-page",s),this.bulkOrder&&this.bulkOrder.reinit(),l?(c("#product-listing-container").get(0).scrollIntoView(),setTimeout((function(){return n.observePagination()}),200)):this.observePagination()},t}(),f=function(){function t(t){var e=void 0===t?{}:t,i=e.requestOptions,n=void 0===i?{config:{category:{products:{limit:12}}},template:"category/product-listing"}:i,o=function(t,e){if(null==t)return{};var i={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;i[n]=t[n]}return i}(e,d);this.onStateChange=this.onStateChange.bind(this),this.onPopState=this.onPopState.bind(this),this.requestOptions=n,this.infiniteScroll=new p(o),this.bindEvents()}var e=t.prototype;return e.bindEvents=function(){this.unbindEvents(),c(window).on("statechange",this.onStateChange),c(window).on("popstate",this.onPopState)},e.unbindEvents=function(){c(window).off("statechange",this.onStateChange),c(window).off("popstate",this.onPopState)},e.onStateChange=function(){this.updateView()},e.onPopState=function(){this.updateView()},e.updateView=function(){var t=this,e=window.location.href;s.FH.getPage(e,this.requestOptions,(function(i,n){if(i)throw new Error(i);t.refreshView(n,e)}))},e.refreshView=function(t,e){this.infiniteScroll.refreshView(t,e),(0,l.A)()},t}()},56526:(t,e,i)=>{"use strict";i.d(e,{A:()=>a});var n=i(88835),o=i(33270),r={getUrl:function(){return""+window.location.pathname+window.location.search},goToUrl:function(t){window.history.pushState({},document.title,t),o(window).trigger("statechange")},replaceParams:function(t,e){var i,o=n.parse(t,!0);for(i in o.search=null,e)e.hasOwnProperty(i)&&(o.query[i]=e[i]);return o.query&&(o.search=r.buildQueryString(o.query),delete o.query),n.format(o)},removeParams:function(t,e){var i=n.parse(t,!0);return i.search=null,"string"==typeof e?i.query.hasOwnProperty(e)&&(i.query[e]=null,delete i.query[e]):"object"==typeof e&&e.forEach((function(t){i.query.hasOwnProperty(t)&&(i.query[t]=null,delete i.query[t])})),i.query&&(i.search=r.buildQueryString(i.query),delete i.query),n.format(i)},encodeParam:function(t){return encodeURIComponent(t).split("%20").join("+").replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16)}))},buildQueryString:function(t){var e,i="";for(e in t)if(t.hasOwnProperty(e))if(Array.isArray(t[e])){var n=void 0;for(n in t[e])t[e].hasOwnProperty(n)&&(i+="&"+r.encodeParam(e)+"="+r.encodeParam(t[e][n]))}else i+="&"+r.encodeParam(e)+"="+r.encodeParam(t[e]);return i.substring(1)}};const a=r},42634:()=>{}}]);
//# sourceMappingURL=theme-bundle.chunk.22.js.map
